"use strict";(self.webpackChunkread_journey=self.webpackChunkread_journey||[]).push([[549],{8342:function(n,e,i){i.r(e),i.d(e,{Reading:function(){return zn},default:function(){return Pn}});var t,r,s,a,o,d,h,c,p,l,x,g,m,u,f,w,j,b,v,k,Z,y=i(9439),z=i(5861),P=i(7757),S=i.n(P),C=i(5705),_=i(8007),R=i(168),T=i(7924),D=i(1607),I=T.ZP.div(t||(t=(0,R.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 40px;\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n  }\n\n  @media screen and (min-width: 1440px) {\n    flex-direction: column;\n    max-width: 313px;\n  }\n"]))),N=T.ZP.h3(r||(r=(0,R.Z)(["\n  font-size: 18px;\n  font-weight: 700;\n  line-height: 1;\n  @media screen and (min-width: 768px) {\n    font-size: 20px;\n  }\n"]))),F=T.ZP.p(s||(s=(0,R.Z)(["\n  margin-top: 14px;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 1.29;\n  letter-spacing: -0.02em;\n  color: ",";\n"])),D.r.colors.light),q=T.ZP.div(a||(a=(0,R.Z)(["\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 20px;\n  width: 80px;\n  height: 80px;\n  background-color: #262626;\n  border-radius: 50%;\n  font-size: 32px;\n  font-weight: 500;\n  line-height: 1;\n\n  @media screen and (min-width: 768px) {\n    margin-top: 50px;\n    width: 100px;\n    height: 100px;\n    margin-bottom: 52px;\n    font-size: 50px;\n    line-height: 1.4;\n  }\n"]))),A=i(9036),B=i(553),Y=i(184),$=function(){return(0,Y.jsxs)("div",{children:[(0,Y.jsx)(N,{children:"Progress"}),(0,Y.jsx)(F,{children:"Here you will see when and how much you read. To record, click on the red button above."}),(0,Y.jsx)(q,{children:"\ud83c\udf1f"})]})},H=i(2791),L=i(4420),U=i(2141),V=T.zo.div(o||(o=(0,R.Z)(["\n  padding: 16px;\n  border-radius: 12px;\n  background: #262626;\n"]))),W=T.zo.div(d||(d=(0,R.Z)(["\n  display: flex;\n  gap: 8px;\n"]))),J=T.zo.div(h||(h=(0,R.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n"]))),M=(0,T.iv)(c||(c=(0,R.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  border: none;\n"]))),O=T.zo.button(p||(p=(0,R.Z)(["\n  ",";\n  svg {\n    stroke: #686868;\n    fill: transparent;\n  }\n\n  &:hover,\n  &:active {\n    svg {\n      stroke: ",";\n    }\n  }\n"])),M,D.r.colors.primary),E=T.zo.div(l||(l=(0,R.Z)(["\n  display: flex;\n  justify-content: space-between;\n  /* @media screen and (min-width: 768px) {\n    width: 321px;\n  } */\n"]))),G=T.zo.ul(x||(x=(0,R.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 32px;\n  div {\n    display: flex;\n    gap: 9px;\n    margin-bottom: 16px;\n    @media screen and (min-width: 768px) {\n      gap: 10px;\n    }\n  }\n\n  h4 {\n    margin-left: 25px;\n    margin-bottom: 4px;\n    font-size: 14px;\n    font-weight: 500;\n    line-height: 1.29;\n    letter-spacing: -0.02em;\n\n    @media screen and (min-width: 768px) {\n      margin-left: 30px;\n      margin-bottom: 8px;\n      font-size: 20px;\n      line-height: 1;\n    }\n  }\n\n  span {\n    margin-left: 25px;\n    font-size: 10px;\n    font-weight: 500;\n    line-height: 1.2;\n    letter-spacing: -0.02em;\n    color: ",";\n\n    @media screen and (min-width: 768px) {\n      margin-left: 30px;\n      font-size: 12px;\n      line-height: 1.17;\n    }\n  }\n  button {\n    ","\n  }\n"])),D.r.colors.light,M),K=T.zo.p(g||(g=(0,R.Z)(["\n  font-size: 12px;\n  font-weight: 700;\n  line-height: 1.33;\n  letter-spacing: 0.02em;\n  transition: color ",";\n  color: ",";\n\n  @media screen and (min-width: 768px) {\n    font-size: 16px;\n    line-height: 1.13;\n  }\n"])),D.r.transition,(function(n){var e=n.$isActive,i=n.theme;return e?i.colors.primary:i.colors.light})),Q=T.zo.ul(m||(m=(0,R.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 17px;\n  color: ",";\n\n  @media screen and (min-width: 768px) {\n    gap: 14px;\n  }\n  h4 {\n    font-size: 12px;\n    font-weight: 500;\n    line-height: 1.33;\n    letter-spacing: -0.02;\n\n    @media screen and (min-width: 768px) {\n      font-size: 14px;\n      line-height: 1.29;\n    }\n  }\n\n  p {\n    width: 43px;\n    margin-top: 7px;\n    font-size: 10px;\n    font-weight: 500;\n    line-height: 1.2;\n    letter-spacing: -2%;\n\n    @media screen and (min-width: 768px) {\n      width: 55px;\n      font-size: 12px;\n      font-weight: 500;\n      line-height: 1.17;\n    }\n  }\n\n  button {\n    background-color: transparent;\n    border: none;\n\n    &:hover {\n      svg {\n        stroke: ",";\n      }\n    }\n\n    svg {\n      transform: translateY(-4px);\n      transition: ",";\n      stroke: ",";\n      fill: transparent;\n    }\n  }\n"])),D.r.colors.light,D.r.colors.error,D.r.transition,D.r.colors.light),X=T.zo.div(u||(u=(0,R.Z)(["\n  margin-top: 19px;\n  margin-right: 6px;\n  @media screen and (min-width: 768px) {\n    margin-top: 16px;\n    margin-right: 8px;\n  }\n"]))),nn=T.zo.div(f||(f=(0,R.Z)(["\n  display: flex;\n  gap: 6px;\n\n  @media screen and (min-width: 768px) {\n    gap: 8px;\n  }\n"]))),en=T.zo.div(w||(w=(0,R.Z)(["\n  padding: 20px;\n  width: 100%;\n  border-radius: 12px;\n  background: #262626;\n  @media screen and (min-width: 768px) {\n    padding: 28px;\n    width: 321px;\n  }\n\n  img {\n    margin: 0 auto;\n    width: 116px;\n    margin-bottom: 21px;\n    @media screen and (min-width: 768px) {\n      width: 138px;\n    }\n\n    @media screen and (min-width: 1440px) {\n      width: 189px;\n    }\n  }\n\n  h4 {\n    font-size: 14px;\n    font-weight: 500;\n    line-height: 1.29;\n    letter-spacing: -2%;\n    margin-bottom: 4px;\n    @media screen and (min-width: 768px) {\n      margin-bottom: 8px;\n      font-size: 20px;\n      line-height: 1;\n    }\n  }\n\n  p {\n    font-size: 10px;\n    font-weight: 500;\n    line-height: 1.2;\n    letter-spacing: -0.02em;\n    color: ",";\n    @media screen and (min-width: 768px) {\n      font-size: 12px;\n      line-height: 1.17;\n    }\n  }\n"])),D.r.colors.light),tn=T.zo.div(j||(j=(0,R.Z)(["\n  width: 14px;\n  height: 14px;\n  border-radius: 4px;\n  background-color: ",";\n"])),D.r.colors.status),rn=T.zo.div(b||(b=(0,R.Z)(["\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  gap: 15px;\n"]))),sn=i.p+"static/media/progress-bar_mobile.c66a13a193fbcd8d0fd3.webp",an=i.p+"static/media/progress-bar_tablet.3ffc934d96c30b280f02.webp",on=i.p+"static/media/progress-bar_desktop.3ffc934d96c30b280f02.webp",dn=i(7609),hn=function(n){n.isStart;var e=(0,H.useState)(!0),i=(0,y.Z)(e,2),t=i[0],r=i[1],s=(0,H.useState)(!1),a=(0,y.Z)(s,2),o=a[0],d=a[1],h=(0,L.v9)(U.os),c=h.progress,p=h.totalPages,l=h.timeLeftToRead;console.log(l);return(0,Y.jsxs)(V,{children:[(0,Y.jsxs)(J,{children:[(0,Y.jsx)(N,{children:o?"Statistics":"Diary"}),(0,Y.jsxs)(W,{children:[(0,Y.jsx)(O,{onClick:function(){d(!1)},children:(0,Y.jsx)("svg",{width:"16",height:"16",children:(0,Y.jsx)("use",{href:"".concat(dn.Z,"#hourglass")})})}),(0,Y.jsx)(O,{onClick:function(){d(!0)},children:(0,Y.jsx)("svg",{width:"16",height:"16",children:(0,Y.jsx)("use",{href:"".concat(dn.Z,"#pie-chart")})})})]})]}),l&&!o?(0,Y.jsxs)(E,{children:[(0,Y.jsx)(G,{children:null===c||void 0===c?void 0:c.map((function(n){var e=n._id,i=n.startReading,s=n.finishPage,a=n.startPage,o=n.finishReading;return(0,Y.jsxs)("li",{children:[(0,Y.jsxs)("div",{children:[(0,Y.jsx)("button",{onClick:function(){return r(!t)},children:(0,Y.jsx)("svg",{width:"16",height:"16",children:(0,Y.jsx)("use",{href:"".concat(dn.Z,t?"#black-block-active":"#black-block")})})}),(0,Y.jsx)(K,{$isActive:t,children:new Date(i).toLocaleDateString()})]}),(0,Y.jsxs)("h4",{children:[((s-a)/p*100).toFixed(1),"%"]}),(0,Y.jsx)("span",{children:"".concat((new Date(o)-new Date(i))/6e4," minutes")})]},e)}))}),(0,Y.jsxs)(Q,{children:[(0,Y.jsxs)("li",{children:[(0,Y.jsx)("h4",{children:"42 pages"}),(0,Y.jsxs)(nn,{children:[(0,Y.jsxs)(X,{children:[(0,Y.jsx)("svg",{width:"43",height:"18",children:(0,Y.jsx)("use",{href:"".concat(dn.Z,"#graph1")})}),(0,Y.jsx)("p",{children:"45 pages per hour"})]}),(0,Y.jsx)("button",{children:(0,Y.jsx)("svg",{width:"14",height:"14",children:(0,Y.jsx)("use",{href:"".concat(dn.Z,"#trash")})})})]})]}),(0,Y.jsxs)("li",{children:[(0,Y.jsx)("p",{children:"87 pages"}),(0,Y.jsxs)(nn,{children:[(0,Y.jsxs)(X,{children:[(0,Y.jsx)("svg",{width:"43",height:"18",children:(0,Y.jsx)("use",{href:"".concat(dn.Z,"#graph2")})}),(0,Y.jsx)("p",{children:"45 pages per hour"})]}),(0,Y.jsx)("button",{children:(0,Y.jsx)("svg",{width:"14",height:"14",children:(0,Y.jsx)("use",{href:"".concat(dn.Z,"#trash")})})})]})]})]})]}):null,o||l?null:(0,Y.jsx)("div",{children:"No time left to read."}),o?(0,Y.jsxs)(en,{children:[(0,Y.jsx)("img",{alt:"Progress bar",srcSet:"".concat(sn," 116w, ").concat(an," 128w, ").concat(on," 189w"),sizes:"(max-width: 375px) 116px, (max-width: 1439px) 138px, 189px",src:sn}),(0,Y.jsxs)(rn,{children:[(0,Y.jsx)(tn,{}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)("h4",{children:"19.14%"}),(0,Y.jsx)("p",{children:"171 pages read"})]})]})]}):null]})},cn=i(1481),pn=i(5218),ln=function(n){var e=n.isStart,i=n.book,t=n.setIsStart,r=(0,L.I0)(),s=i._id,a=function(){var n=(0,z.Z)(S().mark((function n(i){var a,o,d,h,c;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=i.totalPages,n.prev=1,e){n.next=18;break}return n.next=5,r((0,cn.Ch)({page:a,id:s}));case 5:if(o=n.sent,!cn.Ch.fulfilled.match(o)){n.next=11;break}pn.ZP.success("The reading has started"),t(!e),n.next=16;break;case 11:if(!cn.Ch.rejected.match(o)){n.next=16;break}if(!(d=o.error)||"You have already started reading this book"!==d.message){n.next=16;break}return pn.ZP.error("You have already started reading this book"),n.abrupt("return");case 16:n.next=28;break;case 18:return n.next=20,r((0,cn.PB)({page:a,id:s}));case 20:if(h=n.sent,!cn.PB.fulfilled.match(h)){n.next=24;break}n.next=28;break;case 24:if(!cn.PB.rejected.match(h)){n.next=28;break}return c=h.error,pn.ZP.error("Failed to stop reading",c),n.abrupt("return");case 28:n.next=33;break;case 30:n.prev=30,n.t0=n.catch(1),pn.ZP.error(n.t0.message);case 33:case"end":return n.stop()}}),n,null,[[1,30]])})));return function(e){return n.apply(this,arguments)}}(),o=_.Ry().shape({totalPages:_.Rx().required("Number of pages is required").positive("Number of pages must be positive").integer("Number of pages must be an integer")});return(0,Y.jsxs)(I,{children:[(0,Y.jsx)(C.J9,{initialValues:{totalPages:""},validationSchema:o,onSubmit:a,children:function(n){var i=n.errors,t=n.touched;return(0,Y.jsxs)(C.l0,{children:[(0,Y.jsx)(A.vw,{children:e?"Stop page":"Start page"}),(0,Y.jsxs)(A.Rd,{children:[(0,Y.jsx)(B.__,{htmlFor:"pages",children:"Number of pages:"}),(0,Y.jsx)(B.Fy,{type:"number",name:"totalPages",id:"pages",placeholder:"0"})]}),i.totalPages&&t.totalPages&&(0,Y.jsx)(B.CV,{name:"totalPages",component:"div"}),(0,Y.jsx)(A.fq,{type:"submit",children:e?"To stop":"To start"})]})}}),e?(0,Y.jsx)(hn,{isStart:e}):(0,Y.jsx)($,{})]})},xn=i(1825),gn=i(4330),mn=T.ZP.div(v||(v=(0,R.Z)(["\n  margin: 0 auto;\n  margin-top: 40px;\n  width: 146px;\n  text-align: center;\n\n  @media screen and (min-width: 768px) {\n    margin-top: 32px;\n    width: 317px;\n  }\n\n  img {\n    margin: 0 auto;\n    border-radius: 8px;\n    @media screen and (min-width: 768px) {\n      width: 169px;\n    }\n  }\n  h3 {\n    margin-top: 10px;\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 1.29;\n    letter-spacing: -0.02em;\n    overflow-wrap: break-word;\n    @media screen and (min-width: 768px) {\n      width: 317px;\n      margin-top: 25px;\n      font-size: 20px;\n      line-height: 1;\n    }\n  }\n  p {\n    margin-top: 5px;\n    margin-bottom: 20px;\n    font-size: 10px;\n    font-weight: 500;\n    line-height: 1.2;\n    letter-spacing: -0.02em;\n    color: ",";\n    overflow-wrap: break-word;\n    @media screen and (min-width: 768px) {\n      width: 317px;\n      margin-bottom: 16px;\n      font-size: 14px;\n      line-height: 1.29;\n    }\n  }\n\n  button {\n    margin: 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    border: 2px solid #f9f9f9;\n    background-color: ",";\n\n    @media screen and (min-width: 768px) {\n      width: 50px;\n      height: 50px;\n    }\n  }\n"])),D.r.colors.light,D.r.colors.secondary),un=T.ZP.div(k||(k=(0,R.Z)(["\n  width: 30px;\n  height: 30px;\n  background: #e90516;\n  border-radius: 50%;\n\n  @media screen and (min-width: 768px) {\n    width: 40px;\n    height: 40px;\n  }\n"]))),fn=T.ZP.div(Z||(Z=(0,R.Z)(["\n  width: 15px;\n  height: 15px;\n  background: #e90516;\n  border-radius: 3px;\n\n  @media screen and (min-width: 768px) {\n    width: 20px;\n    height: 20px;\n  }\n"]))),wn=i(5675),jn=i(3063),bn=function(){return(0,Y.jsxs)(jn.W,{children:[(0,Y.jsx)("div",{children:"\ud83d\udcda"}),(0,Y.jsx)("h3",{children:"The book is read"}),(0,Y.jsxs)("p",{children:["It was an ",(0,Y.jsx)("span",{children:"exciting journey"}),", where each page revealed new horizons, and the characters became inseparable friends."]})]})},vn=i(4878),kn=function(n){var e=n.isStart,i=(n.setIsStart,n.book),t=(0,H.useState)(!0),r=(0,y.Z)(t,2),s=r[0],a=r[1],o=(0,H.useState)(!1),d=(0,y.Z)(o,2),h=d[0],c=d[1];return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)(gn.W2,{children:[(0,Y.jsx)(gn.Dx,{children:"My reading"}),(0,Y.jsxs)(mn,{children:[(0,Y.jsx)("img",{src:i.imageUrl?i.imageUrl:vn,alt:i.title}),(0,Y.jsx)("h3",{children:i.title}),(0,Y.jsx)("p",{children:i.author}),(0,Y.jsx)("button",{onClick:s&&!e?function(){a(!0),c(!0),document.body.style.overflow="hidden"}:null,children:e?(0,Y.jsx)(fn,{}):(0,Y.jsx)(un,{})})]})]}),h?(0,Y.jsx)(wn.N,{isOpen:h,onClose:function(){c(!1),document.body.style.overflow="auto"},children:(0,Y.jsx)(bn,{})}):null]})},Zn=i(6498),yn=i(7689),zn=function(){var n=(0,H.useState)(!1),e=(0,y.Z)(n,2),i=e[0],t=e[1],r=(0,yn.TH)().state;return r?(0,Y.jsxs)(Zn.$0,{children:[(0,Y.jsx)(xn.A,{children:(0,Y.jsx)(ln,{isStart:i,setIsStart:t,book:r})}),(0,Y.jsx)(kn,{isStart:i,setIsStart:t,book:r})]}):null},Pn=zn}}]);
//# sourceMappingURL=549.fe12ee7e.chunk.js.map